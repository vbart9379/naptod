/*Rubicon Project Ad Server click tracking 
 Property of the Rubicon Project, Inc. */
var rubiconClickTracker=rubiconClickTracker||{},bOnElementFlag,rubiconClickTracking=function(a){if("ok"===a.status)for(var b,c=0;c<a.ads.length;c++){b=a.ads[c],"ok"===b.status&&("script"===b.type&&document.write("<div id='rp-clk-"+c+"'><script type='text/javascript'>"+b.script+"</script></div>"),"html"===b.type&&document.write("<div id='rp-clk-"+c+"'>"+b.html+"</div>"));var d=document.getElementById("rp-clk-"+c);rubiconClickTracker=new clickTracker(rp_tracking_urls,a,d),rubiconClickTracker.run()}},clickTracker=function(a,b,c){var d=this,e=new utils,f=[],g=b,h=c;d.run=function(){if(e.isArray(a)||(a=[a]),e.isArray(a))for(var b=0;b<a.length;b++)e.checkUrl(a[b])&&f.push(a[b]);e.eventAttacher(h)},d.firePixels=function(){if(bOnElementFlag&&e.isArray(f)&&f.length>0){var a={};a.account=g.account_id||0,a.site=g.site_id||0,a.zone=g.zone_id||0,a.size=g.size_id||0,a.ad=g.ads[0].ad_id||0,a.creative=g.ads[0].creative_id||0,a.impression=g.ads[0].impression_id||0,a.advertiser=g.ads[0].advertiser||0,a.network=g.ads[0].network||0,a.cpm=g.ads[0].cpm||0;for(var b=0;b<f.length;b++)if("string"==typeof f[b]){for(var c in a)if(a.hasOwnProperty(c)){var d="\\$\\$"+c+"\\$\\$",h=new RegExp(d,"gi");f[b]=f[b].replace(h,a[c])}f[b]=f[b].replace(/<[^<>&?=+*#@!%^~;\s'"]+\/>/gi,"");var i=new Image;i.src=f[b]}}}},utils=function(){var a=this;a.isObject=function(a){return"object"==typeof a},a.isArray=function(b){return(b||!1)&&a.isObject(b)&&b.hasOwnProperty("length")&&"number"==typeof b.length&&b.length>-1&&"[object Array]"===Object.prototype.toString.call(b)},a.checkUrl=function(a){var b=new RegExp("^https?://");return b.test(a)},a.checkMouseOut=function(a){bOnElementFlag=!1,a.blur(),window.focus()},a.checkMouseOver=function(a){bOnElementFlag=!0},a.eventAttacher=function(b){b.onmouseover=function(){a.checkMouseOver(b)},b.onmouseout=function(){a.checkMouseOut(b)},"undefined"!=typeof window.attachEvent?window.attachEvent("onblur",function(){rubiconClickTracker.firePixels()}):"undefined"!=typeof window.addEventListener&&window.addEventListener("blur",function(){rubiconClickTracker.firePixels()},!1)}};